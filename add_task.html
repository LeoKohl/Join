<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join Add Task</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="../assets/img/logo/logo-dark.png"
    />

    <link rel="stylesheet" href="../styles/global.css" />
    <link rel="stylesheet" href="../styles/side_menu.css" />
    <link rel="stylesheet" href="../styles/add_task.css" />
    <link rel="stylesheet" href="../styles/add-task-assigned-subtasks.css" />
    <link rel="stylesheet" href="../styles/standard.css" />
    <link rel="stylesheet" href="../styles/media.css" />
    <link rel="stylesheet" href="../styles/media-query-add-task.css" />

    <script src="../scripts/side-menu.js"></script>
  </head>

  <body>
    <header>
      <!--Header content-->
      <div class="header-content">
        <div class="header-inner">
          <div class="logo-mobile d_none">
            <img src="./assets/img/logo/logo-dark.png" alt="Logo" />
          </div>
          <h1 class="header-title">Kanban Project Management Tool</h1>
          <div class="header-right">
            <div class="help-container" id="container-help">
              <a href="./help.html" class="help-icon">
                <img
                  src="./assets/img/icons/header-side-menu/help.png"
                  alt="Help Icon"
                />
              </a>
            </div>
            <div class="profile-container" id="container-profile">
              <button
                class="profile-btn"
                onclick="toggleProfileDropdown()"
                aria-label="Profile menu"
              >
                WM
              </button>
              <div id="dropdown-profile" class="profile-dropdown">
                <a href="./help.html" class="dropdown-item mobile-only d_none"
                  >Help</a
                >
                <a href="./legal-notice.html" class="dropdown-item"
                  >Legal Notice</a
                >
                <a href="./privacy-policy.html" class="dropdown-item"
                  >Privacy Policy</a
                >
                <a href="index.html" class="dropdown-item">Log out</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!--End of Header content-->

    <div class="wrapper flex flex-column align-center w-full max-w-1200">
      <div class="main-container flex flex-column">
        <div class="add-task-section flex flex-column">
          <div class="title-section max-w-1200 flex">
            <h1>Add Task</h1>
          </div>
          <form id="form-element" class="flex flex-column">
            <div class="add-task-container w-full flex">
              <div class="section-task-left w-full max-w-50">
                <div class="title-task">
                  <p class="title-task font-bundle">
                    Title<span class="star">*</span>
                  </p>
                  <label for="title-task" class="sr-only"></label>
                  <input
                    class="input-title-task font-bundle max-w-440 border-radius-10px input-bundle black-color"
                    id="title-task"
                    name="title"
                    type="text"
                    placeholder="Enter a title"
                  />
                  <div class="error-container" id="title-error-border">
                    <div class="error-text d-none">This fields is required</div>
                  </div>
                </div>

                <div class="decription-class">
                  <p class="font-bundle description-title">Description</p>
                  <label for="description" class="sr-only"></label>
                  <textarea
                    class="textarea-task font-bundle w-full max-w-440 border-radius-10px"
                    name="description"
                    id="task-description"
                    placeholder="Enter a Description"
                  ></textarea>
                </div>

                <div class="date-task">
                  <p class="font-bundle w-full date">
                    Du date <span class="star">*</span>
                  </p>
                  <label for="due-date" class="sr-only"></label>
                  <input
                    class="font-bundle date-input-task input-bundle max-w-440"
                    id="task-date"
                    name="dueDate"
                    type="date"
                  />
                  <div class="error-container" id="date-error-border">
                    <div id="error-info" class="error-text d-none">
                      This fields is required or the date in the past
                    </div>
                  </div>
                </div>
              </div>

              <div class="pipe"></div>

              <div class="section-task-right w-full max-w-50">
                <p class="font-bundle">Priority</p>
                <div class="btn-prio flex max-w-440">
                  <button
                    id="urgent"
                    class="priority-btn font-bundle btn-prio-bundle border-radius-10px display-standard"
                  >
                    Urgent
                    <img
                      src="./assets/img/icons/add_task/urgent_icon.svg"
                      alt="Urgent Icon"
                    />
                  </button>
                  <button
                    id="medium"
                    class="priority-btn btn-prio-bundle border-radius-10px font-bundle display-standard"
                  >
                    Medium
                    <img
                      id="medium-icon"
                      src="./assets/img/icons/add_task/prio_medium_orange.svg"
                      alt="medium"
                    />
                  </button>

                  <button
                    id="low"
                    class="priority-btn font-bundle btn-prio-bundle border-radius-10px display-standard"
                  >
                    Low
                    <img
                      src="./assets/img/icons/add_task/low_Icon.svg"
                      alt="Low Icon"
                    />
                  </button>
                </div>

                <!-- Assigned -->
                <div class="assigned-to-container">
                  <label class="font-bundle"
                    ><p class="assigned-to">Assigned to</p></label
                  >
                  <div
                    class="custom-dropdown w-full"
                    onclick="handleDropdownClick(event)"
                  >
                    <div
                      class="dropdown-input max-w-440 border-radius-10px input-bundle flex align-center justify-between bg-white"
                      onclick="toggleDropdown(event)"
                    >
                      <input
                        class="font-bundle input-field"
                        type="text"
                        placeholder="Select contacts to assign"
                        id="searchInput"
                      />
                      <span class="arrow">&#9662;</span>
                    </div>
                    <div class="dropdown-list w-full bg-white" id="contactList">
                      <div
                        class="contact-item flex align-center justify-between border-radius-10px"
                      ></div>
                    </div>
                  </div>
                  <div
                    id="selectedContacts"
                    class="contact-selected flex"
                  ></div>
                </div>

                <div class="category-task select-wrapper">
                  <p class="font-bundle m-top">
                    Category<span class="star">*</span>
                  </p>

                  <div class="select-container w-full max-w-440 black-color">
                    <select
                      class="font-bundle input-bundle max-w-440 category-text black-color"
                      name="category"
                      id="task-category"
                    >
                      <option value="" disabled selected hidden>
                        Select task category
                      </option>

                      <option value="Technical Task">Technical Task</option>
                      <option value="User Story">User Story</option>
                    </select>
                    <span
                      class="arrow"
                      id="category-arrow"
                      onclick="toggleSelectDropdown()"
                      >&#9662;</span
                    >
                  </div>
                </div>

                <div class="subtask-container">
                  <p class="font-bundle m-top">Subtasks</p>

                  <!-- Zustand 1 -->
                  <div
                    id="subtask-initial"
                    class="subtask-input-box input-bundle max-w-440 black-color flex align-center justify-between bg-white"
                    onclick="showSubtaskInput()"
                  >
                    <input
                      class="add-subtask-input input-bundle font-bundle"
                      type="text"
                      placeholder="Add new subtask"
                      readonly
                    />
                    <span id="open-subtask" class="icon plus display-standard">
                      <img
                        src="assets/img/icons/add_task/add.svg"
                        alt="Plus Icon"
                      />
                    </span>
                  </div>

                  <!-- Zustand 2 -->
                  <div
                    id="subtask-active"
                    class="subtask-input-box input-bundle max-w-440 d-none"
                  >
                    <input
                      class="input-second font-bundle"
                      type="text"
                      id="subtask-input-second"
                      placeholder="Add new subtask"
                    />
                    <div class="icon-subtask-container display-standard">
                      <span
                        id="cancel-subtask"
                        class="icon cancel"
                        onclick="cancelSubtaskInput()"
                      >
                        <img
                          class="icon-task"
                          src="assets/img/icons/add_task/delete.svg"
                          alt="Cancel Icon"
                        />
                      </span>
                      <span
                        id="confirm-subtask"
                        class="icon confirm"
                        onclick="confirmSubtaskInput()"
                      >
                        <img
                          class="icon-task"
                          src="assets/img/icons/add_task/check_noir.svg"
                          alt="Confirm Icon"
                        />
                      </span>
                    </div>
                  </div>
                </div>
                <div id="subtask-output" class="output-subtask"></div>
              </div>
            </div>

            <div class="section-task-under">
              <div class="star-required flex justify-start align-center w-full">
                <p class="required-task-text font-bundle">
                  <sup class="star">*</sup>This field is required
                </p>
              </div>
            </div>
            <div class="btn-clear-task-container">
              <button
                class="btn-addtask-clear font-bundle display-standard w-full border-radius-10px p-16 bg-white"
                type="reset"
                onclick="resetFormState()"
              >
                Clear
                <svg
                  class="icon-close"
                  width="13"
                  height="14"
                  viewBox="0 0 13 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M6.24959 6.99984L11.4926 12.2428M1.00659 12.2428L6.24959 6.99984L1.00659 12.2428ZM11.4926 1.75684L6.24859 6.99984L11.4926 1.75684ZM6.24859 6.99984L1.00659 1.75684L6.24859 6.99984Z"
                    stroke="#2A3647"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
              <button
                class="btn-addtask-create font-bundle w-full border-radius-10px p-16 white-color"
                type="submit"
              >
                Create Task<img
                  class="icon-task"
                  src="assets/img/icons/add_task/check.svg"
                  alt="Ok Icon"
                />
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="task-message" class="task-message hidden">
      <div class="task-successful-info">
        <p class="task-successful-info-text">Task successfully created!</p>
        <img src="./assets/img/icons/board/task-message-icon.svg" alt="" />
      </div>
    </div>

    <!-- End add Task section -->

    <!--Side-menu-->
    <aside class="side-menu background-side-menu">
      <div class="logo-section">
        <img
          src="../assets/img/logo/logo-light.png"
          alt="Logo"
          class="logo-side-menu-img"
        />
      </div>

      <div class="menu-section">
        <a href="../summary.html" class="menu-item">
          <span class="menu-icon">
            <img
              src="../assets/img/icons/header-side-menu/summary.svg"
              alt=""
            />
          </span>
          <span>Summary</span>
        </a>
        <a href="../add_task.html" class="menu-item active">
          <span class="menu-icon">
            <img
              src="../assets/img/icons/header-side-menu/add-task.svg"
              alt=""
            />
          </span>
          <span>Add Task</span>
        </a>
        <a href="../board.html" class="menu-item">
          <span class="menu-icon">
            <img src="../assets/img/icons/header-side-menu/board.svg" alt="" />
          </span>
          <span>Board</span>
        </a>
        <a href="../add_contact.html" class="menu-item">
          <span class="menu-icon">
            <img
              src="../assets/img/icons/header-side-menu/contacts.svg"
              alt=""
            />
          </span>
          <span>Contacts</span>
        </a>
      </div>

      <div class="notice-side-menu">
        <a href="../legal-notice.html" class="menu-item menu-bottom">
          <span>Legal notice</span>
        </a>
        <a href="../privacy-policy.html" class="menu-item menu-bottom">
          <span>Privacy Policy</span>
        </a>
      </div>
    </aside>

    <script src="./scripts/firebase.js"></script>

    <script src="./scripts/add-task-templates.js"></script>
    <script src="./scripts/add_task_button.js"></script>

    <script src="./scripts/input.js"></script>
    <script src="./scripts/add_task.js"></script>
    <script src="./scripts/add-task-category-subtasks.js"></script>
  </body>
</html>
